(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},84827,e=>{"use strict";var t=e.i(9165);e.s(["appointmentsApi",0,{getAll:(e=1,s=10,a)=>t.default.get("/appointments",{params:{page:e,limit:s,...a}}),getById:e=>t.default.get(`/appointments/${e}`),getTodayByDoctor:e=>t.default.get(`/appointments/today/${e}`),getAvailableSlots:(e,s)=>t.default.get("/appointments/slots",{params:{doctorId:e,date:s}}),getDoctors:()=>t.default.get("/appointments/doctors"),create:e=>t.default.post("/appointments",e),updateStatus:(e,s)=>t.default.patch(`/appointments/${e}/status`,{status:s}),update:(e,s)=>t.default.put(`/appointments/${e}`,s),cancel:e=>t.default.delete(`/appointments/${e}`)},"billingApi",0,{getAll:(e=1,s=10,a)=>t.default.get("/billing/invoices",{params:{page:e,limit:s,...a}}),getById:e=>t.default.get(`/billing/invoices/${e}`),create:e=>t.default.post("/billing/invoices",e),addPayment:(e,s)=>t.default.post(`/billing/invoices/${e}/payments`,s),getServices:()=>t.default.get("/billing/services")},"pharmacyApi",0,{getMedicines:(e=1,s=10,a)=>t.default.get("/pharmacy/medicines",{params:{page:e,limit:s,search:a}}),getMedicineById:e=>t.default.get(`/pharmacy/medicines/${e}`),getStock:()=>t.default.get("/pharmacy/stock"),getLowStock:()=>t.default.get("/pharmacy/stock/low"),dispenseMedicine:e=>t.default.post("/pharmacy/dispense",e),getPrescriptions:e=>t.default.get("/pharmacy/prescriptions",{params:{patientId:e}})}])},3281,e=>{"use strict";let t=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},30997,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),l=e.i(7233),i=e.i(50627),r=e.i(73375),n=e.i(63059);let c=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var d=e.i(3116),o=e.i(95468),x=e.i(86536),m=e.i(3281),p=e.i(84827);let g={PENDING:"bg-yellow-100 text-yellow-700",PARTIAL:"bg-orange-100 text-orange-700",PAID:"bg-green-100 text-green-700",CANCELLED:"bg-gray-100 text-gray-500"},h={PENDING:(0,t.jsx)(d.Clock,{className:"w-4 h-4"}),PARTIAL:(0,t.jsx)(c,{className:"w-4 h-4"}),PAID:(0,t.jsx)(o.CheckCircle2,{className:"w-4 h-4"}),CANCELLED:(0,t.jsx)(i.Receipt,{className:"w-4 h-4"})};function u(){let[e,c]=(0,s.useState)([]),[o,u]=(0,s.useState)(null),[y,f]=(0,s.useState)(!0),[N,j]=(0,s.useState)(1),[b,v]=(0,s.useState)(""),w=async(e=1,t)=>{f(!0);try{let s=await p.billingApi.getAll(e,10,{status:t});c(s.data.data),u(s.data.pagination)}catch(e){console.error("Failed to fetch invoices:",e)}finally{f(!1)}};(0,s.useEffect)(()=>{w(N,b||void 0)},[N,b]);let k=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),A=e.filter(e=>"PENDING"===e.status||"PARTIAL"===e.status).reduce((e,t)=>e+t.dueAmount,0);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing & Invoices"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage patient bills and payments"})]}),(0,t.jsxs)(a.default,{href:"/billing/new",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-medium rounded-xl hover:from-teal-600 hover:to-cyan-700 transition-all shadow-lg shadow-teal-500/25",children:[(0,t.jsx)(l.Plus,{className:"w-5 h-5"}),"New Invoice"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(d.Clock,{className:"w-5 h-5 text-yellow-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Pending"}),(0,t.jsx)("p",{className:"text-lg font-bold text-gray-900",children:k(A)})]})]})}),["PENDING","PARTIAL","PAID"].map(s=>(0,t.jsx)("button",{onClick:()=>v(b===s?"":s),className:`bg-white rounded-xl p-4 border text-left transition-all ${b===s?"border-teal-500 ring-2 ring-teal-500/20":"border-gray-100 hover:border-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${g[s]}`,children:h[s]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:s}),(0,t.jsx)("p",{className:"text-lg font-bold text-gray-900",children:e.filter(e=>e.status===s).length})]})]})},s))]}),(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:y?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,t.jsx)("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Invoice #"}),(0,t.jsx)("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Patient"}),(0,t.jsx)("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Date"}),(0,t.jsx)("th",{className:"text-right px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Total"}),(0,t.jsx)("th",{className:"text-right px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Due"}),(0,t.jsx)("th",{className:"text-center px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Status"}),(0,t.jsx)("th",{className:"text-right px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.length>0?e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"text-sm font-medium text-teal-600",children:e.invoiceNo})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.patient.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.patient.patientId})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:k(e.totalAmount)}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("span",{className:e.dueAmount>0?"text-red-600 font-medium":"text-green-600",children:k(e.dueAmount)})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${g[e.status]}`,children:[h[e.status],e.status]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(a.default,{href:`/billing/${e.id}`,className:"p-2 text-gray-400 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",title:"View",children:(0,t.jsx)(x.Eye,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Print",children:(0,t.jsx)(m.Printer,{className:"w-4 h-4"})}),("PENDING"===e.status||"PARTIAL"===e.status)&&(0,t.jsx)(a.default,{href:`/billing/${e.id}/payment`,className:"px-3 py-1.5 bg-green-100 text-green-700 text-xs font-medium rounded-lg hover:bg-green-200 transition-colors",children:"Pay"})]})})]},e.id)):(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:[(0,t.jsx)(i.Receipt,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,t.jsx)("p",{className:"font-medium",children:"No invoices found"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Create a new invoice to get started"})]})})})]})}),o&&o.pages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",(o.page-1)*o.limit+1," to"," ",Math.min(o.page*o.limit,o.total)," of ",o.total]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===N,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,t.jsx)(r.ChevronLeft,{className:"w-5 h-5"})}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Page ",o.page," of ",o.pages]}),(0,t.jsx)("button",{onClick:()=>j(e=>e+1),disabled:N>=o.pages,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,t.jsx)(n.ChevronRight,{className:"w-5 h-5"})})]})]})]})})]})}e.s(["default",()=>u],30997)}]);