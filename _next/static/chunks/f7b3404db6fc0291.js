(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},84827,e=>{"use strict";var t=e.i(9165);e.s(["appointmentsApi",0,{getAll:(e=1,a=10,s)=>t.default.get("/appointments",{params:{page:e,limit:a,...s}}),getById:e=>t.default.get(`/appointments/${e}`),getTodayByDoctor:e=>t.default.get(`/appointments/today/${e}`),getAvailableSlots:(e,a)=>t.default.get("/appointments/slots",{params:{doctorId:e,date:a}}),getDoctors:()=>t.default.get("/appointments/doctors"),create:e=>t.default.post("/appointments",e),updateStatus:(e,a)=>t.default.patch(`/appointments/${e}/status`,{status:a}),update:(e,a)=>t.default.put(`/appointments/${e}`,a),cancel:e=>t.default.delete(`/appointments/${e}`)},"billingApi",0,{getAll:(e=1,a=10,s)=>t.default.get("/billing/invoices",{params:{page:e,limit:a,...s}}),getById:e=>t.default.get(`/billing/invoices/${e}`),create:e=>t.default.post("/billing/invoices",e),addPayment:(e,a)=>t.default.post(`/billing/invoices/${e}/payments`,a),getServices:()=>t.default.get("/billing/services")},"pharmacyApi",0,{getMedicines:(e=1,a=10,s)=>t.default.get("/pharmacy/medicines",{params:{page:e,limit:a,search:s}}),getMedicineById:e=>t.default.get(`/pharmacy/medicines/${e}`),getStock:()=>t.default.get("/pharmacy/stock"),getLowStock:()=>t.default.get("/pharmacy/stock/low"),dispenseMedicine:e=>t.default.post("/pharmacy/dispense",e),getPrescriptions:e=>t.default.get("/pharmacy/prescriptions",{params:{patientId:e}})}])},35408,e=>{"use strict";let t=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>t],35408)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},88844,e=>{"use strict";let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},72453,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(22016),l=e.i(55436),r=e.i(12156),i=e.i(88844),n=e.i(78894),d=e.i(73375),c=e.i(63059),o=e.i(3116),x=e.i(35408),m=e.i(84827);function p(){let[e,p]=(0,a.useState)([]),[g,h]=(0,a.useState)(null),[y,u]=(0,a.useState)(null),[f,j]=(0,a.useState)(!0),[b,N]=(0,a.useState)(1),[v,w]=(0,a.useState)(""),[k,S]=(0,a.useState)(!1),A=async(e=1,t="")=>{j(!0);try{let[a,s]=await Promise.all([m.pharmacyApi.getMedicines(e,10,t),m.pharmacyApi.getStock()]);p(a.data.data),h(a.data.pagination),u(s.data.data)}catch(e){console.error("Failed to fetch medicines:",e)}finally{j(!1)}},M=async()=>{j(!0);try{let e=await m.pharmacyApi.getLowStock();p(e.data.data),h(null)}catch(e){console.error("Failed to fetch low stock:",e)}finally{j(!1)}};return(0,a.useEffect)(()=>{k?M():A(b,v)},[b,k]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Pharmacy"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage medicine inventory and dispensing"})]}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsxs)(s.default,{href:"/pharmacy/dispense",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-medium rounded-xl hover:from-teal-600 hover:to-cyan-700 transition-all shadow-lg shadow-teal-500/25",children:[(0,t.jsx)(r.Pill,{className:"w-5 h-5"}),"Dispense Medicine"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.Package,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total Medicines"}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900",children:y?.totalItems||0})]})]})}),(0,t.jsx)("button",{onClick:()=>S(!k),className:`bg-white rounded-xl p-4 border text-left transition-all ${k?"border-orange-500 ring-2 ring-orange-500/20":"border-gray-100 hover:border-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(x.TrendingDown,{className:"w-5 h-5 text-orange-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Low Stock"}),(0,t.jsx)("p",{className:"text-xl font-bold text-orange-600",children:y?.lowStockItems||0})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(n.AlertTriangle,{className:"w-5 h-5 text-red-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Out of Stock"}),(0,t.jsx)("p",{className:"text-xl font-bold text-red-600",children:y?.outOfStockItems||0})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(o.Clock,{className:"w-5 h-5 text-yellow-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Expiring Soon"}),(0,t.jsx)("p",{className:"text-xl font-bold text-yellow-600",children:y?.expiringItems||0})]})]})})]}),(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 p-4",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N(1),A(1,v)},className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),placeholder:"Search by medicine name or code...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-teal-500 focus:border-transparent focus:bg-white transition-all outline-none"})]}),(0,t.jsx)("button",{type:"submit",className:"px-6 py-2.5 bg-gray-900 text-white font-medium rounded-xl hover:bg-gray-800 transition-colors",children:"Search"}),k&&(0,t.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2.5 text-gray-600 hover:text-gray-800 font-medium",children:"Show All"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:f?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,t.jsx)("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Code"}),(0,t.jsx)("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Medicine"}),(0,t.jsx)("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Category"}),(0,t.jsx)("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Unit"}),(0,t.jsx)("th",{className:"text-center px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Stock"}),(0,t.jsx)("th",{className:"text-center px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.length>0?e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"text-sm font-medium text-teal-600",children:e.code})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),e.genericName&&(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.genericName})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:e.category})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.unit}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("span",{className:`text-lg font-bold ${0===e.stockQuantity?"text-red-600":e.isLowStock?"text-orange-600":"text-gray-900"}`,children:e.stockQuantity})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:0===e.stockQuantity?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-700",children:[(0,t.jsx)(n.AlertTriangle,{className:"w-3 h-3"}),"Out of Stock"]}):e.isLowStock?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full bg-orange-100 text-orange-700",children:[(0,t.jsx)(x.TrendingDown,{className:"w-3 h-3"}),"Low Stock"]}):(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"In Stock"})})]},e.id)):(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:[(0,t.jsx)(r.Pill,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,t.jsx)("p",{className:"font-medium",children:"No medicines found"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Add medicines to inventory"})]})})})]})}),g&&g.pages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",(g.page-1)*g.limit+1," to"," ",Math.min(g.page*g.limit,g.total)," of ",g.total]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>N(e=>Math.max(1,e-1)),disabled:1===b,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,t.jsx)(d.ChevronLeft,{className:"w-5 h-5"})}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Page ",g.page," of ",g.pages]}),(0,t.jsx)("button",{onClick:()=>N(e=>e+1),disabled:b>=g.pages,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,t.jsx)(c.ChevronRight,{className:"w-5 h-5"})})]})]})]})})]})}e.s(["default",()=>p])}]);